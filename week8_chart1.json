{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
         
    "title": {
        "text": "Comparing three economies (GDP)",
        "subtitle":["billions, GDP, PPP (constant 2017 international $)", "Source: Global Carbon Project; World Bank."],
        "subtitleFontStyle":"italic",
        "subtitleFontSize":10,
        "anchor": "start",
        "color": "black"},
   "data": {"values":[{"Entity": "China", "Year": 1990, "GDP, PPP (constant 2017 international $)": 1620000000000, "Annual CO2 emissions": 2484854800}, {"Entity": "China", "Year": 1991, "GDP, PPP (constant 2017 international $)": 1770000000000, "Annual CO2 emissions": 2606096100}, {"Entity": "China", "Year": 1992, "GDP, PPP (constant 2017 international $)": 2020000000000, "Annual CO2 emissions": 2730787600}, {"Entity": "China", "Year": 1993, "GDP, PPP (constant 2017 international $)": 2300000000000, "Annual CO2 emissions": 2921651000}, {"Entity": "China", "Year": 1994, "GDP, PPP (constant 2017 international $)": 2600000000000, "Annual CO2 emissions": 3100002000}, {"Entity": "China", "Year": 1995, "GDP, PPP (constant 2017 international $)": 2880000000000, "Annual CO2 emissions": 3357909000}, {"Entity": "China", "Year": 1996, "GDP, PPP (constant 2017 international $)": 3170000000000, "Annual CO2 emissions": 3503233500}, {"Entity": "China", "Year": 1997, "GDP, PPP (constant 2017 international $)": 3460000000000, "Annual CO2 emissions": 3510169000}, {"Entity": "China", "Year": 1998, "GDP, PPP (constant 2017 international $)": 3730000000000, "Annual CO2 emissions": 3360455400}, {"Entity": "China", "Year": 1999, "GDP, PPP (constant 2017 international $)": 4020000000000, "Annual CO2 emissions": 3552842000}, {"Entity": "China", "Year": 2000, "GDP, PPP (constant 2017 international $)": 4360000000000, "Annual CO2 emissions": 3644464000}, {"Entity": "China", "Year": 2001, "GDP, PPP (constant 2017 international $)": 4720000000000, "Annual CO2 emissions": 3723730700}, {"Entity": "China", "Year": 2002, "GDP, PPP (constant 2017 international $)": 5150000000000, "Annual CO2 emissions": 4112459000}, {"Entity": "China", "Year": 2003, "GDP, PPP (constant 2017 international $)": 5670000000000, "Annual CO2 emissions": 4827446000}, {"Entity": "China", "Year": 2004, "GDP, PPP (constant 2017 international $)": 6240000000000, "Annual CO2 emissions": 5223755000}, {"Entity": "China", "Year": 2005, "GDP, PPP (constant 2017 international $)": 6950000000000, "Annual CO2 emissions": 5876555300}, {"Entity": "China", "Year": 2006, "GDP, PPP (constant 2017 international $)": 7840000000000, "Annual CO2 emissions": 6488804000}, {"Entity": "China", "Year": 2007, "GDP, PPP (constant 2017 international $)": 8960000000000, "Annual CO2 emissions": 6978611700}, {"Entity": "China", "Year": 2008, "GDP, PPP (constant 2017 international $)": 9820000000000, "Annual CO2 emissions": 7496832000}, {"Entity": "China", "Year": 2009, "GDP, PPP (constant 2017 international $)": 10700000000000, "Annual CO2 emissions": 7886532600}, {"Entity": "China", "Year": 2010, "GDP, PPP (constant 2017 international $)": 11900000000000, "Annual CO2 emissions": 8616653000}, {"Entity": "China", "Year": 2011, "GDP, PPP (constant 2017 international $)": 13000000000000, "Annual CO2 emissions": 9528556000}, {"Entity": "China", "Year": 2012, "GDP, PPP (constant 2017 international $)": 14000000000000, "Annual CO2 emissions": 9779281000}, {"Entity": "China", "Year": 2013, "GDP, PPP (constant 2017 international $)": 15100000000000, "Annual CO2 emissions": 9956309000}, {"Entity": "China", "Year": 2014, "GDP, PPP (constant 2017 international $)": 16300000000000, "Annual CO2 emissions": 9998621000}, {"Entity": "China", "Year": 2015, "GDP, PPP (constant 2017 international $)": 17400000000000, "Annual CO2 emissions": 9866905000}, {"Entity": "China", "Year": 2016, "GDP, PPP (constant 2017 international $)": 18600000000000, "Annual CO2 emissions": 9764980000}, {"Entity": "China", "Year": 2017, "GDP, PPP (constant 2017 international $)": 19900000000000, "Annual CO2 emissions": 10011107000}, {"Entity": "China", "Year": 2018, "GDP, PPP (constant 2017 international $)": 21200000000000, "Annual CO2 emissions": 10353877000}, {"Entity": "China", "Year": 2019, "GDP, PPP (constant 2017 international $)": 22500000000000, "Annual CO2 emissions": 10740996000}, {"Entity": "China", "Year": 2020, "GDP, PPP (constant 2017 international $)": 23000000000000, "Annual CO2 emissions": 10956213000},  {"Entity": "United States", "Year": 1990, "GDP, PPP (constant 2017 international $)": 10100000000000, "Annual CO2 emissions": 5122496000}, {"Entity": "United States", "Year": 1991, "GDP, PPP (constant 2017 international $)": 10100000000000, "Annual CO2 emissions": 5064987000}, {"Entity": "United States", "Year": 1992, "GDP, PPP (constant 2017 international $)": 10400000000000, "Annual CO2 emissions": 5175220000}, {"Entity": "United States", "Year": 1993, "GDP, PPP (constant 2017 international $)": 10700000000000, "Annual CO2 emissions": 5274363000}, {"Entity": "United States", "Year": 1994, "GDP, PPP (constant 2017 international $)": 11200000000000, "Annual CO2 emissions": 5365579000}, {"Entity": "United States", "Year": 1995, "GDP, PPP (constant 2017 international $)": 11500000000000, "Annual CO2 emissions": 5427798500}, {"Entity": "United States", "Year": 1996, "GDP, PPP (constant 2017 international $)": 11900000000000, "Annual CO2 emissions": 5616430600}, {"Entity": "United States", "Year": 1997, "GDP, PPP (constant 2017 international $)": 12400000000000, "Annual CO2 emissions": 5691864600}, {"Entity": "United States", "Year": 1998, "GDP, PPP (constant 2017 international $)": 13000000000000, "Annual CO2 emissions": 5737129500}, {"Entity": "United States", "Year": 1999, "GDP, PPP (constant 2017 international $)": 13600000000000, "Annual CO2 emissions": 5810331600}, {"Entity": "United States", "Year": 2000, "GDP, PPP (constant 2017 international $)": 14100000000000, "Annual CO2 emissions": 6016350700}, {"Entity": "United States", "Year": 2001, "GDP, PPP (constant 2017 international $)": 14300000000000, "Annual CO2 emissions": 5911988000}, {"Entity": "United States", "Year": 2002, "GDP, PPP (constant 2017 international $)": 14500000000000, "Annual CO2 emissions": 5952699000}, {"Entity": "United States", "Year": 2003, "GDP, PPP (constant 2017 international $)": 14900000000000, "Annual CO2 emissions": 6015804400}, {"Entity": "United States", "Year": 2004, "GDP, PPP (constant 2017 international $)": 15500000000000, "Annual CO2 emissions": 6117963000}, {"Entity": "United States", "Year": 2005, "GDP, PPP (constant 2017 international $)": 16100000000000, "Annual CO2 emissions": 6137603600}, {"Entity": "United States", "Year": 2006, "GDP, PPP (constant 2017 international $)": 16500000000000, "Annual CO2 emissions": 6057163300}, {"Entity": "United States", "Year": 2007, "GDP, PPP (constant 2017 international $)": 16800000000000, "Annual CO2 emissions": 6135287300}, {"Entity": "United States", "Year": 2008, "GDP, PPP (constant 2017 international $)": 16800000000000, "Annual CO2 emissions": 5918868500}, {"Entity": "United States", "Year": 2009, "GDP, PPP (constant 2017 international $)": 16400000000000, "Annual CO2 emissions": 5482978000}, {"Entity": "United States", "Year": 2010, "GDP, PPP (constant 2017 international $)": 16800000000000, "Annual CO2 emissions": 5681392000}, {"Entity": "United States", "Year": 2011, "GDP, PPP (constant 2017 international $)": 17100000000000, "Annual CO2 emissions": 5546629000}, {"Entity": "United States", "Year": 2012, "GDP, PPP (constant 2017 international $)": 17400000000000, "Annual CO2 emissions": 5345454000}, {"Entity": "United States", "Year": 2013, "GDP, PPP (constant 2017 international $)": 17800000000000, "Annual CO2 emissions": 5480926000}, {"Entity": "United States", "Year": 2014, "GDP, PPP (constant 2017 international $)": 18200000000000, "Annual CO2 emissions": 5528871000}, {"Entity": "United States", "Year": 2015, "GDP, PPP (constant 2017 international $)": 18800000000000, "Annual CO2 emissions": 5376578000}, {"Entity": "United States", "Year": 2016, "GDP, PPP (constant 2017 international $)": 19100000000000, "Annual CO2 emissions": 5251757600}, {"Entity": "United States", "Year": 2017, "GDP, PPP (constant 2017 international $)": 19500000000000, "Annual CO2 emissions": 5210957300}, {"Entity": "United States", "Year": 2018, "GDP, PPP (constant 2017 international $)": 20100000000000, "Annual CO2 emissions": 5376657400}, {"Entity": "United States", "Year": 2019, "GDP, PPP (constant 2017 international $)": 20600000000000, "Annual CO2 emissions": 5259144000}, {"Entity": "United States", "Year": 2020, "GDP, PPP (constant 2017 international $)": 19900000000000, "Annual CO2 emissions": 4715691000}, {"Entity": "World", "Year": 1990, "GDP, PPP (constant 2017 international $)": 51100000000000, "Annual CO2 emissions": 22757480000}, {"Entity": "World", "Year": 1991, "GDP, PPP (constant 2017 international $)": 51800000000000, "Annual CO2 emissions": 23244806000}, {"Entity": "World", "Year": 1992, "GDP, PPP (constant 2017 international $)": 52600000000000, "Annual CO2 emissions": 22580023000}, {"Entity": "World", "Year": 1993, "GDP, PPP (constant 2017 international $)": 53500000000000, "Annual CO2 emissions": 22812901000}, {"Entity": "World", "Year": 1994, "GDP, PPP (constant 2017 international $)": 55000000000000, "Annual CO2 emissions": 22969498000}, {"Entity": "World", "Year": 1995, "GDP, PPP (constant 2017 international $)": 56700000000000, "Annual CO2 emissions": 23458714000}, {"Entity": "World", "Year": 1996, "GDP, PPP (constant 2017 international $)": 58800000000000, "Annual CO2 emissions": 24159384000}, {"Entity": "World", "Year": 1997, "GDP, PPP (constant 2017 international $)": 61100000000000, "Annual CO2 emissions": 24302584000}, {"Entity": "World", "Year": 1998, "GDP, PPP (constant 2017 international $)": 62600000000000, "Annual CO2 emissions": 24213260000}, {"Entity": "World", "Year": 1999, "GDP, PPP (constant 2017 international $)": 64800000000000, "Annual CO2 emissions": 24732390000}, {"Entity": "World", "Year": 2000, "GDP, PPP (constant 2017 international $)": 67900000000000, "Annual CO2 emissions": 25453623000}, {"Entity": "World", "Year": 2001, "GDP, PPP (constant 2017 international $)": 69400000000000, "Annual CO2 emissions": 25668049000}, {"Entity": "World", "Year": 2002, "GDP, PPP (constant 2017 international $)": 71300000000000, "Annual CO2 emissions": 26281038000}, {"Entity": "World", "Year": 2003, "GDP, PPP (constant 2017 international $)": 73900000000000, "Annual CO2 emissions": 27651596000}, {"Entity": "World", "Year": 2004, "GDP, PPP (constant 2017 international $)": 77700000000000, "Annual CO2 emissions": 28636695000}, {"Entity": "World", "Year": 2005, "GDP, PPP (constant 2017 international $)": 81200000000000, "Annual CO2 emissions": 29614602000}, {"Entity": "World", "Year": 2006, "GDP, PPP (constant 2017 international $)": 85400000000000, "Annual CO2 emissions": 30593118000}, {"Entity": "World", "Year": 2007, "GDP, PPP (constant 2017 international $)": 89800000000000, "Annual CO2 emissions": 31506788000}, {"Entity": "World", "Year": 2008, "GDP, PPP (constant 2017 international $)": 92200000000000, "Annual CO2 emissions": 32085836000}, {"Entity": "World", "Year": 2009, "GDP, PPP (constant 2017 international $)": 91500000000000, "Annual CO2 emissions": 31564032000}, {"Entity": "World", "Year": 2010, "GDP, PPP (constant 2017 international $)": 96200000000000, "Annual CO2 emissions": 33364347000}, {"Entity": "World", "Year": 2011, "GDP, PPP (constant 2017 international $)": 99900000000000, "Annual CO2 emissions": 34487013000}, {"Entity": "World", "Year": 2012, "GDP, PPP (constant 2017 international $)": 103000000000000, "Annual CO2 emissions": 35006270000}, {"Entity": "World", "Year": 2013, "GDP, PPP (constant 2017 international $)": 106000000000000, "Annual CO2 emissions": 35319200000}, {"Entity": "World", "Year": 2014, "GDP, PPP (constant 2017 international $)": 110000000000000, "Annual CO2 emissions": 35577537000}, {"Entity": "World", "Year": 2015, "GDP, PPP (constant 2017 international $)": 114000000000000, "Annual CO2 emissions": 35558568000}, {"Entity": "World", "Year": 2016, "GDP, PPP (constant 2017 international $)": 117000000000000, "Annual CO2 emissions": 35524190000}, {"Entity": "World", "Year": 2017, "GDP, PPP (constant 2017 international $)": 122000000000000, "Annual CO2 emissions": 36096737000}, {"Entity": "World", "Year": 2018, "GDP, PPP (constant 2017 international $)": 126000000000000, "Annual CO2 emissions": 36826510000}, {"Entity": "World", "Year": 2019, "GDP, PPP (constant 2017 international $)": 130000000000000, "Annual CO2 emissions": 37082560000}, {"Entity": "World", "Year": 2020, "GDP, PPP (constant 2017 international $)": 126000000000000, "Annual CO2 emissions": 35264086000}]
        },
          
    "height": 200,
    "width": 250,   
    
    "mark": {   
            "type":"line",
            "strokeWidth":2},    

    "transform": [
      {"filter": "datum.Year>minYear"},
      {"filter": "datum.Year<maxYear"},
      {"calculate": "datum['GDP, PPP (constant 2017 international $)']/1000000000","as": "GDP"}
    ],

    "params": [    
      {"name":"minYear", "value":1990,
         "bind":{
           "input": "range",
           "min": 1990, 
           "max": 2020, 
           "step": 1,
           "name": "Start year:"}
      },

      {"name":"maxYear", "value":2020,
         "bind":{
           "input": "range",
           "min": 1990, 
           "max": 2020, 
           "step": 1,
           "name": "End year:"}
      }
    ],

    "encoding": {
            "x": {
                "field": "Year",
                "type": "temporal"
              ,"axis":null},
    
            "y": {
                "field": "GDP",
                "type": "quantitative",
                "title": null},
    
            "facet": {
                "field": "Entity",
                "columns": 1,
                "title":null}
    },
  
    "resolve": {"scale": {"y": "independent"}}
  
     
  }